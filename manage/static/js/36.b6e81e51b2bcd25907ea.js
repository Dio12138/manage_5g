webpackJsonp([36],{219:function(t,e,n){n(505);var o=n(99)(n(449),n(509),"data-v-1711a98c",null);t.exports=o.exports},449:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o;e.default={name:"StationShow",data:function(){return{longitude:[],latitude:[],location:[],gNBID:[],data:{},from:"",to:"",isOK:!1,timer:"",address:"",marker:{}}},methods:{searchAddress:function(){var t=parseInt(this.address),e=this.gNBID.indexOf(t);if(console.log(e),e>-1){o.removeOverlay(this.marker);var n=new BMap.Point(this.longitude[e],this.latitude[e]);this.marker=new BMap.Marker(n),o.addOverlay(this.marker),o.panTo(n)}else alert("基站ID不正确，请重新输入")},showMap:function(){var t=this;console.log("进入created"),this.$api.get("5G_info/getAllStationInfo",{},function(e){e.status>=200&&e.status<300?(console.log(e.data),e.data.success?(t.data=e.data,t.longitude=e.data.longitude,t.latitude=e.data.latitude,t.location=e.data.location,t.gNBID=e.data.gNBID,t.isOK=!0,t.draw()):console.log("111")):console.log(e.message)})},draw:function(){o=new BMap.Map("container",{});var t=new BMap.Point(120.1522,30.31919);o.centerAndZoom(t,15),o.enableScrollWheelZoom(!0),o.addControl(new BMap.NavigationControl),o.addControl(new BMap.ScaleControl),o.addControl(new BMap.OverviewMapControl),o.addControl(new BMap.MapTypeControl),this.timer=setTimeout(this.fun1(),1e3)},fun1:function(){if(document.createElement("canvas").getContext){for(var t=[],e=0;e<this.longitude.length;e++){var n=new BMap.Point(this.longitude[e],this.latitude[e]);n.location=this.location[e],t.push(n)}var a={size:BMAP_POINT_SIZE_NORMAL,shape:BMAP_POINT_SHAPE_WATERDROP,color:"#d340c3"};console.log("共有："+t.length+"个基站");var i=new BMap.PointCollection(t,a);i.addEventListener("click",function(t){var e=new BMap.Point(t.point.lng,t.point.lat),n={width:250,height:90,title:"基站位置：",enableMessage:!0},a=new BMap.InfoWindow(t.point.location+",经度："+t.point.lng+",纬度："+t.point.lat,n);o.openInfoWindow(a,e)}),o.addOverlay(i)}else alert("请在chrome、safari、IE8+以上浏览器查看本示例")}},mounted:function(){this.showMap()},beforeDestroy:function(){clearTimeout(this.timer),console.log("进入beforeDestroy")}}},458:function(t,e,n){e=t.exports=n(217)(!1),e.push([t.i,"",""])},505:function(t,e,n){var o=n(458);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(218)("1c1d1b26",o,!0)},509:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{width:"100%",height:"100%"}},[n("el-input",{staticStyle:{width:"15em"},attrs:{placeholder:"请输入搜索地址"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchAddress(e)}},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}),t._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},on:{click:t.searchAddress}},[t._v("搜索")]),t._v(" "),n("div",{staticStyle:{width:"100%",height:"750px","margin-right":"20px","margin-top":"20px"},attrs:{id:"container"}})],1)},staticRenderFns:[]}}});